Update manual.md:
- Match the codebase (don’t change names unless missing or incorrect)
- Propose changes here first, section by section
- Respect formatting and design
- Architecture: Keep diagrams up to date with the current system and flows
- Codebase: List functions, event listeners, and hooks in context within the reference map—not as a separate summary or block
- Roadmap: Ensure all recent codebase changes are reflected, using phases and todos
